suite: Cluster test
templates:
  - templates/cluster.yaml

tests:
  - it: should render correct object
    asserts:
      - isKind:
          of: PerconaXtraDBCluster
  
  - it: should render pxc spec correctly
    set:
      pxc:
        size: 3
        image:
          repository: percona/percona-xtradb-cluster
          tag: some-tag
    asserts:
      - equal:
          path: spec.pxc.size
          value: 3
      - equal:
          path: spec.pxc.image
          value: percona/percona-xtradb-cluster:some-tag